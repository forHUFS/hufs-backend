openapi: 3.0.0
info:
  version: '0.0.1'
  title: "HUFSPace API Documents"
  description: "한국외국어대학교 웹 페이지 프로젝트 API 문서"
servers:
  - description: "테스트 서버"
  - url: "http://52.78.2.40:8000/"
paths:
  /user:
    get:
      summary: 회원 정보 조회
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 회원 정보 정상 조회
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    example: { email: 0417taehyun@gmail.com, webMail: dlxogus0417@hufs.ac.kr, nickname: 도비 }
                  message:
                    type: string
                    example: ""
        401:
          description: 로그인하지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Unauthorized-response"           

    put:
      summary: 회원 정보 수정
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: body
          description: 회원 정보 수정
          required: true
          schema:
            type: object
            required:
              - nickname
            properties:
              nickname:
                type: string
                example: 도비
      responses:
        200:
          description: 회원 정보 정상 수정
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        401:
          description: 로그인하지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Unauthorized-response"
        409:
          description: 이미 존재하는 닉네임
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"

    delete:
      summary: 회원 탈퇴
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 회원 정상 탈퇴
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        401:
          description: 로그인하지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Unauthorized-response"



  /user/sign-in/google:
    get:
      summary: 구글 소셜 로그인
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 구글 소셜 로그인 정상 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"

  /user/sign-in/kakao:
    get:
      summary: 카카오 소셜 로그인
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 카카오 소셜 로그인 정상 완료
          content:
            appplication/json:
              schema:
                $ref: "#/definitions/Success-response"


  /user/sign-up:
    post:
      summary: 회원 가입
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: body
          description: 회원 가입에 필요한 데이터 (webMail의 경우 @hufs.ac.kr 앞 부분까지만 입력)
          required: true
          schema:
                type: object
                required:
                  - name
                  - nickname
                  - webMail
                properties:
                  name:
                    type: string
                    example: 이태현
                  nickname:
                    type: string
                    example: 도비
                  webMail:
                    type: string
                    example: dlxogus0417
      responses:
        200:
          description: 회원 가입 정상 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        409:
          description: 이미 존재하는 닉네임
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"

  /user/sign-out:
    post:
      summary: 로그아웃
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 로그아웃 정상 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        401:
          description: 로그인하지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Unauthorized-response"      

  /user/directory:
    get:
      summary: 스크랩을 위해 생성된 디렉토리 조회
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 디렉토리 정상 조회 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    example: [ { id: 4, name: 팁 }, { id: 6, name: 기타 } ]
                  message:
                    type: string
                    example: ""
        401:
          description: 로그인하지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Unauthorized-response"   
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"
    post:
      summary: 스크랩을 위해 디렉토리 생성
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: body
          description: 
          required: true
          schema:
            $ref: "#/definitions/Directory"   
      responses:
        200:
          description: 디렉토리 정상 생성 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        409:
          description: 이미 존재하는 디렉토리 이름 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"

    put:
      summary: 스크랩을 위해 생성된 디렉토리 수정
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: body
          description: 변경 될 디렉토리 이름
          required: true
          schema:
            $ref: "#/definitions/Directory"
        - in: query
          name: id
          description: 디렉토리 아이디
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 디렉토리 정상 생성 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        409:
          description: 이미 존재하는 디렉토리 이름 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"

    delete:
      summary: 스크랩을 위해 생성된 디렉토리 삭제
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: id
          description: 디렉토리 아이디
          required: true
          schema:
            type: integer     
      responses:
        200:
          description: 디렉토리 정상 삭제 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        422:
          description: 디렉토리 아이디 쿼리 스트링으로 필요 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"  
  
  /user/scrap:
    get:
      summary: 사용자가 스크랩한 게시글 조회
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: directoryId
          description: 디렉토리 아이디
          required: true
          schema:
            type: integer      
      responses:
        200:
          description: 스크랩 정상 조회 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    example: [ { scrapId: 4, postId: 1, postTitle: 첫 번째 게시글 }, { scarpId: 5, postId: 2, postTitle: 두 번째 게시글 } ]
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                    
        422:
          description: 디렉토리 아이디 쿼리 스트링으로 필요 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"

    post:
      summary: 게시글 스크랩
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: postId
          description: 게시글 아이디
          required: true
          schema:
            type: integer      
      responses:
        200:
          description: 정상 스크랩 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        409:
          description: 이미 스크랩한 게시글
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
        422:
          description: 게시글 아이디 쿼리 스트링으로 필요 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"

    put:
      summary: 사용자가 스크랩한 게시글 디렉토리 이동
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: postId
          description: 게시글 아이디
          required: true
          schema:
            type: integer
        - in: query
          name: directoryId
          description: 디렉토리 아이디
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 스크랩 정상 조회 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        422:
          description: 게시글 아이디와 디렉토리 아이디 쿼리 스트링으로 필요 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"

    delete:
      summary: 사용자 스크랩 삭제
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: id
          description: 스크랩 아이디
          required: true
          schema:
            type: integer
      responses:
        200:
          description: 스크랩 정상 조회 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
        422:
          description: 스크랩 아이디 쿼리 스트링으로 필요 
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"
  /board/{id}:
    get:
      summary: 게시판 게시글 목록 조회
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 게시판 번호
          required: true
          example: 1
      responses:
        200:
          description: 게시글 정상 조회 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/definitions/Post"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                    
  /board/{id}/post:
    post:
      summary: 게시글 작성
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 게시판 번호
          required: true
          example: 1
        - in: body
          name: body
          description: 게시글 작성할 때 필요한 데이터 - url은 필수 X
          required: true
          schema:
            type: object
            properties:
              title:
                type: string
                example: 글 제목
                required: true
              content:
                type: string
                example: 글 내용
                required: true
              url:
                type: array
                description: 삭제할 이미지 url 배열
                example: ["https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg"]
                required: false
      responses:
        200:
          description: 게시글 작성 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
  /board/{id}/search:
    get:
      summary: 게시판 내 글 검색
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 게시판 번호
          required: true
          example: 1
        - in: query
          name: keyword
          description: 검색 키워드
          required: true
          example: 검색할 내용
        - in: query
          name: option
          description: titleAndContent, title, content, nick 중 하나
          required: true
          example: titleAndContent
      responses:
        200:
          description: 게시글 검색 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/definitions/Post"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                    
        422:
          description: 쿼리 스트링 중 하나 누락 (keyword or option)
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"                
        422:
          description: keyword가 두 글자 이상이 아님
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-keyword-response"
        422:
          description: option이 올바른 형태가 아님
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-option-response"
        200:
          description: 검색 결과가 없음
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
  /search:
    get:
      summary: 전체 게시판 글 검색
      consumes: application/json
      produces: application/json
      parameters:
        - in: query
          name: keyword
          description: 검색 키워드
          required: true
          example: 검색할 내용
        - in: query
          name: option
          description: titleAndContent, title, content, nick 중 하나
          required: true
          example: titleAndContent
      responses:
        200:
          description: 게시글 검색 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/definitions/PostAndBoard"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                    
        422:
          description: 쿼리 스트링 중 하나 누락 (keyword or option)
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-response"
        422:
          description: keyword가 두 글자 이상이 아님 QUERY_KEYWORD / QUERY_OPTION
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-keyword-response"
        422:
          description: option이 올바른 형태가 아님
          content:
            application/json:
              schema:
                $ref: "#/definitions/Query-option-response"
        200:
          description: 검색 결과가 없음
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
  /post/back:
    post:
      summary: 이미지 업로드 후 글 작성 취소
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: url
          type: array
          description: 삭제해야 할 url 배열
          required: true
          example: ["https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg"]
      responses:
        200:
          description: 이미지 삭제 처리 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
  /post/edit/back:
    post:
      summary: 이미지 업로드 후 글 수정 취소
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: url
          type: array
          description: 삭제해야 할 url 배열
          required: true
          example: ["https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg"]
      responses:
        200:
          description: 이미지 삭제 처리 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                
  /post/img:
    post:
      summary: 이미지 업로드
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: img
          description: 업로드할 이미지 파일
          required: true
      responses:
        200:
          description: 이미지 업로드 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    example: ["https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg"]
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                    
  /post/{id}/addlike:
    get:
      summary: 게시글 좋아요 +1
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 게시글 번호
          example: 1
      responses:
        200:
          description: 좋아요 +1 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        409:
          description: 유저가 이미 좋아요를 누른 게시글에 대한 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"               
  /post/{id}/dellike:
    get:
      summary: 게시글 좋아요 -1
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 게시글 번호
          example: 1
      responses:
        200:
          description: 좋아요 -1 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response" 
        409:
          description: 유저가 좋아요를 누른 적이 없는 게시글에 대한 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
  /post/{id}/report:
    post:
      summary: 게시글 신고
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 게시글 번호
          example: 1
        - in: body
          name: content
          required: true
          description: 글 신고 사유(객관식)
          example: 2
        - in: body
          name: detail
          required: false
          description: 글 신고 상세 사유(주관식)
          example: 불쾌함
      responses:
        200:
          description: 신고 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"  
        409:
          description: 이미 신고한 게시글
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
  /post/{id}:
    get:
      summary: 게시글 조회
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 게시글 번호
          example: 1
      responses:
        200:
          description: 게시글 정상 조회 완료
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    $ref: "#/definitions/PostAndReply"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"
        # 조회는 성공하였으나 data가 없는 경우 -> Success, 200, data: "" -> 논의                             
        404:
          description: 조회하려는 게시글이 없음
          content:
            application/json:
              schema:
                $ref: "#/definitions/ResourceNotFound-response"
    put:
      summary: 게시글 수정
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 게시글 번호
          required: true
          example: 1
        - in: body
          name: body
          description: 게시글 작성할 때 필요한 데이터 - url은 필수 X
          required: true
          schema:
            type: object
            properties:
              title:
                type: string
                example: 글 제목
                required: true
              content:
                type: string
                example: 글 내용
                required: true
              url:
                type: array
                description: 삭제할 이미지 url 배열
                example: ["https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg"]
                required: false
      responses:
        200:
          description: 게시글 수정 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인이 작성하지 않은 게시글을 수정하려 하는 경우
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"
    delete:
      summary: 게시글 삭제
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 게시글 번호
          example: 1
      responses:
        200:
          description: 게시글 삭제 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인의 게시글이 아닌 게시글을 삭제하려 함 (어드민 허용)
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"
  /reply/add:
    post:
      summary: 댓글 작성
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: content
          description: 댓글 내용
          required: true
        - in: body
          name: postId
          required: true
          description: 게시글 번호
          example: 1
      responses:
        200:
          description: 댓글 작성 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
  /reply/add/re:
    post:
      summary: 대댓글 작성
      consumes: application/json
      produces: application/json
      parameters:
        - in: body
          name: content
          description: 대댓글 내용
          required: true
        - in: body
          name: postId
          required: true
          description: 게시글 번호
          example: 1
        - in: body
          name: parentId
          required: true
          description: 부모 댓글 번호
          example: 2
      responses:
        200:
          description: 대댓글 작성 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
  /reply/{id}:
    put:
      summary: 댓글 수정
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 댓글 번호
          required: true
          example: 1
        - in: body
          name: content
          description: 댓글 내용
          required: true
      responses:
        200:
          description: 댓글 수정 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인이 작성하지 않은 댓글을 수정하려 하는 경우 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"
                
    delete:
      summary: 댓글 삭제
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 댓글 번호
          example: 1
      responses:
        200:
          description: 댓글 삭제 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인의 게시글이 아닌 댓글을 삭제하려 함 (어드민 허용)
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"
  /reply/{id}/report:
    post:
      summary: 댓글 신고
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 댓글 번호
          example: 1
        - in: body
          name: content
          required: true
          description: 댓글 신고 사유(객관식)
          example: 2
        - in: body
          name: detail
          required: false
          description: 댓글 신고 상세 사유(주관식)
          example: 불쾌함
      responses:
        200:
          description: 신고 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response" 
        # 409 conflict                        
        409:
          description: 이미 신고한 댓글
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
  /reply/{id}/addlike:
    get:
      summary: 댓글 좋아요 +1
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 댓글 번호
          example: 1
      responses:
        200:
          description: 좋아요 +1 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response" 
        409:
          description: 유저가 이미 좋아요를 누른 댓글에 대한 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
  /reply/{id}/dellike:
    get:
      summary: 댓글 좋아요 -1
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 댓글 번호
          required: true
          example: 1
      responses:
        200:
          description: 좋아요 -1 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response" 
        409:
          description: 유저가 좋아요를 누른 적이 없는 댓글에 대한 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Conflict-response"
  /store/review:
    get:
      summary: 모든 상점의 모든 리뷰 조회
      consumes: application/json
      produces: application/json
      responses:
        200:
          description: 조회 성공
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: "#/definitions/ReviewAndStoreName"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                     
  /store/review/{id}:
    get:
      summary: 특정 리뷰 조회
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 리뷰글 id
          example: 1
          required: true
      responses:
        200:
          description: 리뷰 정상 조회
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: object
                    $ref: "#/definitions/Review"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                     
        404:
          description: 조회하려는 리뷰가 없음
          content:
            application/json:
              schema:
                $ref: "#/definitions/ResourceNotFound-response"
    put:
      summary: 리뷰 수정
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 수정할 리뷰 글 id
          example: 1
          required: true
        - in: body
          name: title
          description: 리뷰 제목
          example: 제목
          required: true
        - in: body
          name: content
          description: 리뷰 내용
          example: jmt
          required: true
        - in: body
          name: score
          description: 0.5 단위 평점
          example: 4.5
          required: true
        - in: body
          name: url
          type: array
          description: 삭제할 이미지 파일
          example: [ "https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg" ]
          required: false
      responses:
        200:
          description: 리뷰 수정 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인이 작성하지 않은 리뷰를 수정하려 하는 경우 요청 거부
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"
    delete:
      summary: 리뷰 삭제
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          required: true
          description: 삭제할 리뷰 id
          example: 1
      responses:
        200:
          description: 리뷰 삭제 완료
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
        403:
          description: 본인의 리뷰가 아닌 리뷰를 삭제하려 함 (어드민 허용)
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-response"

  /store/{id}/review:
    post:
      summary: 리뷰 작성
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 리뷰를 작성할 상점 id
          example: 1
          required: true
        - in: body
          name: title
          description: 리뷰 제목
          example: 제목
          required: true
        - in: body
          name: content
          description: 리뷰 내용
          example: jmt
          required: true
        - in: body
          name: score
          description: 0.5 단위 평점
          example: 4.5
          required: true
        - in: body
          name: url
          type: array
          description: 삭제할 이미지 url 배열
          example: [ "https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000sasa.jpg","https://hufsweb.s3.ap-northeast-2.amazonaws.com/post/1614328320000xz.jpg" ]
          required: false

      responses:
        200:
          content:
            application/json:
              schema:
                $ref: "#/definitions/Success-response"
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                 
    get:
      summary: 특정 상점의 리뷰들 조회
      consumes: application/json
      produces: application/json
      parameters:
        - in: path
          name: id
          description: 리뷰 조회할 상점 id
          example: 1
          required: true
      responses:
        200:
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    items:
                      $ref: "#/definitions/Review"
                  message:
                    type: string
                    example: ""
        403:
          description: 정지된 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-suspension-response"                 
        403:
          description: 이메일 인증이 되지 않은 사용자
          content:
            application/json:
              schema:
                $ref: "#/definitions/Forbidden-before-response"                     

                
definitions:
  # 성공
  Success-response:
    type: object
    properties:
      data:
        type: object
        example: ""
      message:
        type: string
        example: ""

  # 이미 존재하는 데이터
  Conflict-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: CONFLICT

  # 쿼리 스트링 누락
  Query-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: QUERY

  Query-keyword-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: QUERY_KEYWORD        

  Query-option-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: QUERY_OPTION      

  Unauthorized-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: UNAUTHORIZED

  Forbidden-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: FORBIDDEN

  # 이메일 인증을 하지 않은 사용자가 특정 기능 접근
  Forbidden-before-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: FORBIDDEN_BEFORE

  # 정지된 사용자가 특정 기능 접근
  Forbidden-suspension-response:
    type: object
    properties:
      data:
        example: ""
      message:
        thpe: string
        eample: FORBIDDEN_SUSPENSION

  ResourceNotFound-response:
    type: object
    properties:
      data:
        example: ""
      message:
        type: string
        example: RESOURCE_NOT_FOUND

  # 디렉토리 Body Request
  Directory:
    type: object
    required:
      - name
    properties:
      nickname:
        type: string
        example: 학교생활 팁 모음
  Post:
    type: object
    properties:
      id:
        type: integer
        description: 글 번호
        example: 1
      title:
        type: string
        description: 글 제목
        example: 제목
      content:
        type: string
        description: 글 내용
        example: <p>안녕</p>
      like:
        type: integer
        description: 좋아요 개수
        exapmle: 32
      report:
        type: integer
        description: 신고 개수 / 5회 이상일 경우 숨김 처리
        example: 2
      createdAt:
        type: date
        description: 글 생성 날짜 및 시간
        example: 2021-03-14T06:21:29.000Z
      updatedAt:
        type: date
        description: 글 마지막으로 업데이트된 시간
        example: 2021-03-14T06:21:29.000Z
      boardId:
        type: integer
        description: 게시판 아이디
        example: 1
      userId:
        type: integer
        description: 글 작성한 유저의 아이디
        example: 1
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 글 작성한 유저의 닉네임
            example: 하연
  PostAndBoard:
    type: object
    properties:
      id:
        type: integer
        description: 글 번호
        example: 1
      title:
        type: string
        description: 글 제목
        example: 제목
      content:
        type: string
        description: 글 내용
        example: <p>안녕</p>
      like:
        type: integer
        description: 좋아요 개수
        exapmle: 32
      report:
        type: integer
        description: 신고 개수 / 5회 이상일 경우 숨김 처리
        example: 2
      createdAt:
        type: date
        description: 글 생성 날짜 및 시간
        example: 2021-03-14T06:21:29.000Z
      updatedAt:
        type: date
        description: 글 마지막으로 업데이트된 시간
        example: 2021-03-14T06:21:29.000Z
      boardId:
        type: integer
        description: 게시판 아이디
        example: 1
      userId:
        type: integer
        description: 글 작성한 유저의 아이디
        example: 1
      Board:
        type: object
        properties:
          title:
            type: string
            description: 게시판 이름
            example: 자유게시판
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 글 작성한 유저의 닉네임
            example: 하연
  PostAndReply:
    type: object
    properties:
      id:
        type: integer
        description: 글 번호
        example: 1
      title:
        type: string
        description: 글 제목
        example: 제목
      content:
        type: string
        description: 글 내용
        example: <p>안녕</p>
      like:
        type: integer
        description: 좋아요 개수
        exapmle: 32
      report:
        type: integer
        description: 신고 개수 / 5회 이상일 경우 숨김 처리
        example: 2
      createdAt:
        type: date
        description: 글 생성 날짜 및 시간
        example: 2021-03-14T06:21:29.000Z
      updatedAt:
        type: date
        description: 글 마지막으로 업데이트된 시간
        example: 2021-03-14T06:21:29.000Z
      boardId:
        type: integer
        description: 게시판 아이디
        example: 1
      userId:
        type: integer
        description: 글 작성한 유저의 아이디
        example: 1
      Replies:
        type: array
        items:
          $ref: "#definitions/Reply"
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 글 작성한 유저의 닉네임
            example: 하연
  Reply:
    type: object
    properties:
      id:
        type: integer
        description: 댓글 id
        example: 3
      content:
        type: string
        description: 댓글 내용
        example: 댓글
      like:
        type: integer
        description: 좋아요 개수
        example: 2
      report:
        type: integer
        description: 신고당한 횟수
        example: 2
      createdAt:
        type: date
        description: 댓글 생성 날짜 및 시간
        example: 2021-03-14T06:21:29.000Z
      updatedAt:
        type: date
        description: 댓글 마지막으로 업데이트된 시간
        example: 2021-03-14T06:21:29.000Z
      postId:
        type: integer
        description: 게시글 번호
        example: 1
      parentId:
        type: integer
        description: 일반 댓글일 경우 null, 대댓글일 경우 부모 댓글 번호
        example: null
      userId:
        type: integer
        description: 댓글 작성자 id
        example: 2
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 댓글 작성자 닉네임
            example: 하연
  Review:
    type: object
    properties:
      id:
        type: integer
        description: 리뷰 id
        example: 1
      title:
        type: string
        description: 제목
        example: 제목
      content:
        type: string
        description: 내용
        example: 내용
      score:
        type: number
        description: 0.5 단위 평점
        example: 3.5
      createdAt:
        type: date
        description: 리뷰 작성 날짜 및 시간
        example: 2021-03-12T11:44:34.000Z
      updatedAt:
        type: date
        description: 리뷰 업데이트 날짜 및 시간
        example: 2021-03-12T11:44:34.000Z
      storeId:
        type: integer
        description: 상점 id
        example: 1
      userId:
        type: integer
        description: 리뷰 작성자 id
        example: 2
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 작성자 닉네임
            example: 하연
  ReviewAndStoreName:
    type: object
    properties:
      id:
        type: integer
        description: 리뷰 id
        example: 1
      title:
        type: string
        description: 제목
        example: 제목
      content:
        type: string
        description: 내용
        example: 내용
      score:
        type: number
        description: 0.5 단위 평점
        example: 3.5
      createdAt:
        type: date
        description: 리뷰 작성 날짜 및 시간
        example: 2021-03-12T11:44:34.000Z
      updatedAt:
        type: date
        description: 리뷰 업데이트 날짜 및 시간
        example: 2021-03-12T11:44:34.000Z
      storeId:
        type: integer
        description: 상점 id
        example: 1
      userId:
        type: integer
        description: 리뷰 작성자 id
        example: 2
      User:
        type: object
        properties:
          nickname:
            type: string
            description: 작성자 닉네임
            example: 하연
      Store:
        type: object
        properties:
          name:
            type: string
            description: 상점 이름
            example: 맛집
